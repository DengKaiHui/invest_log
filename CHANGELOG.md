# 更新日志

## [2.1.0] - 2025-11-29

### ✨ 新增功能

- **弹框式记录**: 将「记一笔」改为二级弹框，界面更简洁
  - 移除了独立的记录表单卡片
  - 在「持仓明细」顶部添加「记一笔」按钮
  - 弹框内包含所有录入功能（手动输入 + AI 识别）
  - 预计股数提示更醒目

### 🔒 安全改进

- **API Key 安全检查**: 全面检查项目中的 API Key 使用
  - 后端使用环境变量管理 API Keys
  - 前端 AI API Key 由用户自行配置
  - 代码中无硬编码密钥
  
- **部署安全文档**: 新增 `SECURITY.md` 
  - API Key 管理最佳实践
  - 线上部署指南
  - 紧急响应流程
  - 安全审计清单

- **.gitignore 增强**:
  - 添加 `.env` 文件忽略
  - 添加配置文件忽略
  - 添加临时文件忽略

- **环境变量模板**: 新增 `.env.example`
  - 提供 API Keys 配置示例
  - 说明如何获取各个 API Key

### 🎨 UI 优化

- 「持仓明细」卡片移至顶部（原 left-0 位置）
- 「持仓盈亏」卡片调整为 left-1 位置
- 弹框样式优化，预计股数显示更清晰
- 「记一笔」按钮使用 primary 颜色，更突出

### 📝 文档更新

- 更新 `README.md` 添加部署和安全说明
- 新增 `SECURITY.md` 详细安全指南
- 新增 `.env.example` 环境变量模板

### 🐛 修复

- 修复卡片拖拽排序在删除卡片后可能出现的问题
- 添加卡片 ID 存在性检查

---

## [2.0.1] - 2025-11-28

### 🆕 后端价格服务

- 新增 Node.js 后端服务 (`server.js`)
- 支持多数据源：Yahoo Finance + Finnhub + Alpha Vantage
- 智能缓存机制（30分钟）
- 自动重试和容错

---

## [1.0.0] - 2025-11-27

### 🎉 首次发布

- Vue 3 + Element Plus 实现
- 投资记录管理
- AI 图片识别
- 资产分布可视化
- 持仓盈亏分析
- 隐私模式
- 拖拽排序
