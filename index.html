<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ÊäïËµÑÁúãÊùø</title>
    
    <!-- Element Plus -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css" />
    <link rel="stylesheet" href="https://unpkg.com/@element-plus/icons-vue/dist/index.css" />
    
    <!-- Sortable.js -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <!-- Ëá™ÂÆö‰πâÊ†∑Âºè -->
    <link rel="stylesheet" href="/src/styles/base.css" />
    <link rel="stylesheet" href="/src/styles/components.css" />
    <link rel="stylesheet" href="/src/styles/position.css" />
    <link rel="stylesheet" href="/src/styles/profit-calendar.css" />
</head>
<body>
    <div id="app">
        <div class="navbar">
            <div class="navbar-content">
                <div class="app-title">
                    <span>üöÄ Invest Board</span>
                </div>
                <div class="top-tools">
                    <span class="rate-badge" v-if="config.exchangeRate">
                        USD/CNY ‚âà {{ config.exchangeRate }}
                    </span>
                    
                    <el-tooltip content="Á≥ªÁªüËÆæÁΩÆ" placement="bottom">
                        <el-button circle class="emoji-btn" @click="showConfig = true" style="font-size:16px">‚öôÔ∏è</el-button>
                    </el-tooltip>
                    
                    <el-tooltip :content="isPrivacyMode ? 'ÁÇπÂáªÊòæÁ§∫ÈáëÈ¢ù' : 'ÁÇπÂáªÈöêËóèÈáëÈ¢ù'" placement="bottom">
                        <el-button circle class="emoji-btn" @click="togglePrivacy">
                            {{ isPrivacyMode ? 'üôà' : 'üëÄ' }}
                        </el-button>
                    </el-tooltip>
                </div>
            </div>
        </div>

        <div class="container">
            <el-row :gutter="24" id="draggable-container">
                <el-col :xs="24" :md="14" data-card="left">
                    <!-- ÊåÅ‰ªìÁõà‰∫èÂç°Áâá -->
                    <el-card class="modern-card position-table" data-card-id="left-0">
                        <template #header>
                            <div class="card-header-styled">
                                <span>
                                    <span class="drag-handle" title="ÊãñÂä®ÊéíÂ∫è">‚ãÆ‚ãÆ</span>
                                    üí∞ ÊåÅ‰ªìÁõà‰∫è
                                </span>
                                <el-button type="primary" link size="small" @click="refreshPrices" :loading="priceLoading">
                                    <el-icon><Refresh /></el-icon> Âà∑Êñ∞‰ª∑Ê†º
                                </el-button>
                            </div>
                        </template>
                        
                        <!-- ÊÄªÂ∏ÇÂÄºÊäòÁ∫øÂõæ -->
                        <div v-loading="marketValueLoading" style="margin-bottom: 20px;">
                            <div ref="marketValueChartDom" style="height: 200px; width: 100%;"></div>
                        </div>
                        
                        <!-- È°∂ÈÉ®Ê±áÊÄª‰ø°ÊÅØ -->
                        <div class="position-summary-top">
                            <div class="summary-item">
                                <div class="summary-label">ÊÄªÂ∏ÇÂÄº</div>
                                <div class="summary-value number-font">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>${{ totalMarketValue }}</span>
                                </div>
                                <div class="summary-sub number-font">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>‚âà ¬•{{ totalMarketValueCNY }}</span>
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">ÊÄªÊåÅ‰ªìÊàêÊú¨</div>
                                <div class="summary-value number-font">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>${{ totalCost }}</span>
                                </div>
                                <div class="summary-sub number-font">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>‚âà ¬•{{ totalCostCNY }}</span>
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">ÊÄªÁõà‰∫è</div>
                                <div class="summary-value number-font" :class="getProfitClass(totalProfitNum)">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>{{ totalProfitNum >= 0 ? '+$' : '-$' }}{{ totalProfit.replace('-', '') }}</span>
                                </div>
                                <div class="summary-sub number-font" :class="getProfitClass(totalProfitNum)">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>{{ totalProfitNum >= 0 ? '+' : '' }}¬•{{ totalProfitCNY }}</span>
                                </div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">ÊÄªÊî∂ÁõäÁéá</div>
                                <div class="summary-value number-font" :class="getProfitClass(totalProfitNum)">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else>{{ totalProfitNum >= 0 ? '+' : '' }}{{ totalProfitRate }}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <el-table :data="positionSummary" style="width: 100%; margin-top: 20px;" :default-sort="{prop: 'totalProfit', order: 'descending'}">
                            <el-table-column label="ÂêçÁß∞/‰ª£Á†Å" width="180">
                                <template #default="scope">
                                    <div>
                                        <div class="stock-name">{{ scope.row.displayName }}</div>
                                        <div class="stock-code">{{ scope.row.symbol }}</div>
                                    </div>
                                </template>
                            </el-table-column>
                            
                            <el-table-column label="Â∏ÇÂÄº/Êï∞Èáè" align="right">
                                <template #default="scope">
                                    <div class="value-info">
                                        <div class="market-value">
                                            <span v-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">{{ scope.row.marketValue }}</span>
                                        </div>
                                        <div class="shares">
                                            <span v-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">{{ scope.row.totalShares }}</span>
                                        </div>
                                    </div>
                                </template>
                            </el-table-column>
                            
                            <el-table-column label="Áé∞‰ª∑/ÊàêÊú¨" align="right">
                                <template #default="scope">
                                    <div class="price-info">
                                        <div class="current-price">
                                            <span v-if="scope.row.priceLoading" style="font-size: 12px; color: #6b7280;">Âä†ËΩΩ‰∏≠...</span>
                                            <span v-else-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">{{ scope.row.currentPrice || '--' }}</span>
                                        </div>
                                        <div class="cost-price">
                                            <span v-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">{{ scope.row.avgCost }}</span>
                                        </div>
                                    </div>
                                </template>
                            </el-table-column>
                            
                            <el-table-column label="ÊåÅ‰ªìÁõà‰∫è" align="right" sortable prop="totalProfitNum">
                                <template #default="scope">
                                    <div class="profit-info">
                                        <div class="profit-amount" :class="getProfitClass(scope.row.totalProfitNum)">
                                            <span v-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">
                                                {{ scope.row.totalProfitNum >= 0 ? '+$' : '-$' }}{{ scope.row.totalProfit.replace('-', '') }}
                                            </span>
                                        </div>
                                        <div class="profit-rate" :class="getProfitClass(scope.row.totalProfitNum)">
                                            <span v-if="isPrivacyMode">****</span>
                                            <span v-else class="number-font">
                                                {{ scope.row.profitRateNum >= 0 ? '+' : '' }}{{ scope.row.profitRate }}%
                                            </span>
                                        </div>
                                    </div>
                                </template>
                            </el-table-column>
                        </el-table>
                        
                        <div style="margin-top: 10px; font-size: 12px; color: #6b7280; text-align: center;">
                            ÊúÄÂêéÊõ¥Êñ∞: {{ lastUpdateTime || '--' }}
                        </div>
                    </el-card>
                    
                    <!-- Êî∂ÁõäÊó•ÂéÜÂç°Áâá -->
                    <el-card class="modern-card profit-calendar-card" data-card-id="left-1">
                        <template #header>
                            <div class="card-header-styled">
                                <span>
                                    <span class="drag-handle" title="ÊãñÂä®ÊéíÂ∫è">‚ãÆ‚ãÆ</span>
                                    üìÖ Êî∂ÁõäÊó•ÂéÜ
                                </span>
                                <div style="display: flex; gap: 8px;">
                                    <el-button size="small" @click="recalculateProfits" :loading="recalculating">
                                        üîÑ ÈáçÊñ∞ËÆ°ÁÆó
                                    </el-button>
                                    <el-button-group size="small">
                                        <el-button :type="viewMode === 'month' ? 'primary' : ''" @click="switchViewMode('month')">Êúà</el-button>
                                        <el-button :type="viewMode === 'year' ? 'primary' : ''" @click="switchViewMode('year')">Âπ¥</el-button>
                                    </el-button-group>
                                </div>
                            </div>
                        </template>
                        
                        <div v-loading="profitLoading" class="profit-calendar-content">
                            <!-- ÊúàËßÜÂõæ -->
                            <div v-if="viewMode === 'month'" class="month-view">
                                <!-- Ê†áÈ¢òÊ†è -->
                                <div class="calendar-header">
                                    <el-button size="small" circle @click="prevPeriod">‚óÄ</el-button>
                                    <div class="calendar-title">{{ currentYearMonth }}</div>
                                    <el-button size="small" circle @click="nextPeriod">‚ñ∂</el-button>
                                </div>
                                
                                <!-- ÊúàÊî∂ÁõäÊ±áÊÄª -->
                                <div class="month-summary">
                                    <div class="summary-label">{{ currentMonth }}ÊúàÊî∂Áõä ¬∑ USD</div>
                                    <div class="summary-value" :class="getProfitClass(monthlyProfit ? monthlyProfit.profit : 0)">
                                        <span v-if="isPrivacyMode">****</span>
                                        <span v-else class="number-font">
                                            {{ monthlyProfit && monthlyProfit.profit >= 0 ? '+' : '' }}{{ formatAmount(monthlyProfit ? monthlyProfit.profit : 0) }}
                                        </span>
                                    </div>
                                    <div class="summary-rate" :class="getProfitClass(monthlyProfit ? monthlyProfit.profit : 0)">
                                        <span v-if="isPrivacyMode">****</span>
                                        <span v-else class="number-font">
                                            Êî∂ÁõäÁéá {{ monthlyProfit && monthlyProfit.profit_rate >= 0 ? '+' : '' }}{{ (monthlyProfit ? monthlyProfit.profit_rate : 0).toFixed(2) }}%
                                        </span>
                                    </div>
                                </div>
                                
                                <!-- ÊòüÊúüÊ†áÈ¢ò -->
                                <div class="weekdays">
                                    <div class="weekday">Êó•</div>
                                    <div class="weekday">‰∏Ä</div>
                                    <div class="weekday">‰∫å</div>
                                    <div class="weekday">‰∏â</div>
                                    <div class="weekday">Âõõ</div>
                                    <div class="weekday">‰∫î</div>
                                    <div class="weekday">ÂÖ≠</div>
                                </div>
                                
                                <!-- Êó•ÂéÜÊ†ºÂ≠ê -->
                                <div class="calendar-grid">
                                    <div 
                                        v-for="(item, index) in dailyProfits" 
                                        :key="index"
                                        class="calendar-cell"
                                        :class="{
                                            'empty': !item,
                                            'market-closed': item && item.isMarketClosed,
                                            'no-data': item && !item.hasData
                                        }"
                                    >
                                        <template v-if="item">
                                            <div class="cell-day">{{ item.day }}</div>
                                            <div v-if="!isPrivacyMode" class="cell-profit" :class="getProfitClass(item.profit)">
                                                {{ item.profit >= 0 ? '+' : '' }}{{ formatAmount(item.profit) }}
                                            </div>
                                            <div v-else class="cell-profit profit-neutral">****</div>
                                            <div v-if="!isPrivacyMode" class="cell-rate" :class="getProfitClass(item.profit)">
                                                {{ item.profitRate >= 0 ? '+' : '' }}{{ item.profitRate.toFixed(2) }}%
                                            </div>
                                            <div v-else class="cell-rate profit-neutral">****</div>
                                        </template>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Âπ¥ËßÜÂõæ -->
                            <div v-if="viewMode === 'year'" class="year-view">
                                <!-- Ê†áÈ¢òÊ†è -->
                                <div class="calendar-header">
                                    <el-button size="small" circle @click="prevPeriod">‚óÄ</el-button>
                                    <div class="calendar-title">{{ currentYear }}</div>
                                    <el-button size="small" circle @click="nextPeriod">‚ñ∂</el-button>
                                </div>
                                
                                <!-- Âπ¥Êî∂ÁõäÊ±áÊÄª -->
                                <div class="year-summary">
                                    <div class="summary-label">{{ currentYear }}Âπ¥Êî∂Áõä ¬∑ USD</div>
                                    <div class="summary-value" :class="getProfitClass(yearlyProfit ? yearlyProfit.profit : 0)">
                                        <span v-if="isPrivacyMode">****</span>
                                        <span v-else class="number-font">
                                            {{ yearlyProfit && yearlyProfit.profit >= 0 ? '+' : '' }}{{ formatAmount(yearlyProfit ? yearlyProfit.profit : 0) }}
                                        </span>
                                    </div>
                                    <div class="summary-rate" :class="getProfitClass(yearlyProfit ? yearlyProfit.profit : 0)">
                                        <span v-if="isPrivacyMode">****</span>
                                        <span v-else class="number-font">
                                            Êî∂ÁõäÁéá {{ yearlyProfit && yearlyProfit.profit_rate >= 0 ? '+' : '' }}{{ (yearlyProfit ? yearlyProfit.profit_rate : 0).toFixed(2) }}%
                                        </span>
                                    </div>
                                </div>
                                
                                <!-- Êúà‰ªΩÁΩëÊ†º -->
                                <div class="months-grid">
                                    <div 
                                        v-for="item in monthlyProfits" 
                                        :key="item.month"
                                        class="month-cell"
                                        :class="{ 'no-data': !item.hasData }"
                                    >
                                        <div class="month-label">{{ item.monthStr }}</div>
                                        <div v-if="!isPrivacyMode" class="month-profit" :class="getProfitClass(item.profit)">
                                            {{ item.profit >= 0 ? '+' : '' }}{{ formatAmount(item.profit) }}
                                        </div>
                                        <div v-else class="month-profit profit-neutral">****</div>
                                        <div v-if="!isPrivacyMode" class="month-rate" :class="getProfitClass(item.profit)">
                                            {{ item.profitRate >= 0 ? '+' : '' }}{{ item.profitRate.toFixed(2) }}%
                                        </div>
                                        <div v-else class="month-rate profit-neutral">****</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </el-card>
                </el-col>

                <el-col :xs="24" :md="10" data-card="right">
                    <!-- ËµÑ‰∫ßÂàÜÂ∏ÉÂç°Áâá -->
                    <el-card class="modern-card" data-card-id="right-0">
                        <template #header>
                            <div class="card-header-styled">
                                <span>
                                    <span class="drag-handle" title="ÊãñÂä®ÊéíÂ∫è">‚ãÆ‚ãÆ</span>
                                    üìä ËµÑ‰∫ßÂàÜÂ∏É
                                </span>
                                <el-button type="primary" link size="small" @click="copyAssetDistribution">
                                    <el-icon><CopyDocument /></el-icon> Â§çÂà∂
                                </el-button>
                            </div>
                        </template>
                        <div ref="chartDom" style="height: 350px; width: 100%;"></div>
                    </el-card>
                    
                    <!-- ‰∫§ÊòìËÆ∞ÂΩïÂç°Áâá -->
                    <el-card class="modern-card" data-card-id="right-1">
                        <template #header>
                            <div class="card-header-styled">
                                <span>
                                    <span class="drag-handle" title="ÊãñÂä®ÊéíÂ∫è">‚ãÆ‚ãÆ</span>
                                    üìã ‰∫§ÊòìËÆ∞ÂΩï
                                </span>
                                <div style="display: flex; gap: 8px;">
                                    <el-button type="primary" size="small" @click="showAddRecordDialog = true" round>
                                        <el-icon style="margin-right:4px"><Plus /></el-icon> ËÆ∞‰∏ÄÁ¨î
                                    </el-button>
                                    <el-dropdown @command="handleDataCommand">
                                        <el-button size="small" round>
                                            Êï∞ÊçÆ <el-icon class="el-icon--right"><arrow-down /></el-icon>
                                        </el-button>
                                        <template #dropdown>
                                            <el-dropdown-menu>
                                                <el-dropdown-item command="export">ÂØºÂá∫ CSV</el-dropdown-item>
                                                <el-dropdown-item command="import">ÂØºÂÖ• CSV</el-dropdown-item>
                                                <el-dropdown-item command="clear" divided>Ê∏ÖÁ©∫Êï∞ÊçÆ</el-dropdown-item>
                                            </el-dropdown-menu>
                                        </template>
                                    </el-dropdown>
                                </div>
                            </div>
                        </template>
                        <el-table :data="records" style="width: 100%" height="380">
                            <el-table-column prop="name" label="ÂêçÁß∞" width="100">
                                <template #default="scope">
                                    <span style="font-weight: 600;">{{ scope.row.name }}</span>
                                </template>
                            </el-table-column>
                            <el-table-column prop="date" label="Êó•Êúü" width="110" sortable></el-table-column>
                            
                            <el-table-column prop="total" label="ÊÄªÊäïÂÖ•($)" sortable>
                                <template #default="scope">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else class="number-font" style="color:#059669">${{ scope.row.total }}</span>
                                </template>
                            </el-table-column>
                            
                            <el-table-column prop="price" label="Âùá‰ª∑($)">
                                <template #default="scope">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else class="number-font">${{ scope.row.price }}</span>
                                </template>
                            </el-table-column>
                            
                            <el-table-column prop="shares" label="ËÇ°Êï∞">
                                <template #default="scope">
                                    <span v-if="isPrivacyMode">****</span>
                                    <span v-else class="number-font">{{ scope.row.shares }}</span>
                                </template>
                            </el-table-column>
                            
                            <el-table-column align="right" width="60">
                                <template #default="scope">
                                    <el-button size="small" type="danger" icon="Delete" circle text @click="deleteRecord(scope.$index)"></el-button>
                                </template>
                            </el-table-column>
                        </el-table>
                    </el-card>
                </el-col>
            </el-row>
        </div>

        <!-- ËÆ∞‰∏ÄÁ¨îÂØπËØùÊ°Ü -->
        <el-dialog v-model="showAddRecordDialog" title="‚úèÔ∏è ËÆ∞‰∏ÄÁ¨î (USD)" width="500px">
            <el-form :model="form" label-position="top">
                <el-row :gutter="20">
                    <el-col :span="12">
                        <el-form-item label="ËµÑ‰∫ßÂêçÁß∞">
                            <el-input v-model="form.name" placeholder="‰æãÂ¶Ç: NVDA"></el-input>
                        </el-form-item>
                    </el-col>
                    <el-col :span="12">
                        <el-form-item label="‰∫§ÊòìÊó•Êúü">
                            <el-date-picker v-model="form.date" type="date" placeholder="Êó•Êúü" style="width: 100%" format="YYYY-MM-DD" value-format="YYYY-MM-DD"></el-date-picker>
                        </el-form-item>
                    </el-col>
                </el-row>
                <el-row :gutter="20">
                    <el-col :span="12">
                        <el-form-item label="ÊÄªÈáëÈ¢ù ($)">
                            <el-input-number v-model="form.total" :min="0" :precision="2" style="width: 100%" :controls="false" placeholder="0.00"></el-input-number>
                        </el-form-item>
                    </el-col>
                    <el-col :span="12">
                        <el-form-item label="Âçï‰ª∑ ($)">
                            <el-input-number v-model="form.price" :min="0" :precision="2" style="width: 100%" :controls="false" placeholder="0.00"></el-input-number>
                        </el-form-item>
                    </el-col>
                </el-row>
                
                <div v-if="calculatedShares > 0" style="padding: 12px; background: #f0f9ff; border-radius: 8px; margin-bottom: 10px;">
                    <div style="font-size: 13px; color: #0369a1;">
                        È¢ÑËÆ°ËÇ°Êï∞: <span style="font-weight: bold; font-size: 16px;">{{ calculatedShares }}</span>
                    </div>
                </div>

                <el-divider border-style="dashed" style="margin: 15px 0"></el-divider>

                <el-upload
                    action="#"
                    :auto-upload="false"
                    :show-file-list="false"
                    :on-change="handleImageUpload"
                    accept="image/*"
                    style="width: 100%"
                >
                    <el-button type="primary" plain style="width: 100%" :loading="analyzing">
                        <el-icon style="margin-right:4px"><Camera /></el-icon> 
                        Êà™ÂõæËØÜÂà´ÔºàËá™Âä®Â°´ÂÖÖÔºâ
                    </el-button>
                </el-upload>
            </el-form>
            <template #footer>
                <el-button @click="showAddRecordDialog = false">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="addRecordAndClose">Êèê‰∫§</el-button>
            </template>
        </el-dialog>

        <!-- ÈÖçÁΩÆÂØπËØùÊ°Ü -->
        <el-dialog v-model="showConfig" title="‚öôÔ∏è ËÆæÁΩÆ" width="480px" style="border-radius: 12px;">
            <el-form label-position="top">
                <el-form-item label="Ê±áÁéá (ÂÆûÊó∂Ëé∑Âèñ)">
                    <el-input-number v-model="config.exchangeRate" :precision="4" :step="0.0001" style="width: 70%"></el-input-number>
                    <el-button style="width: 25%; margin-left: 5%" icon="Refresh" @click="fetchExchangeRate" :loading="rateLoading"></el-button>
                </el-form-item>

                <el-divider border-style="dashed"></el-divider>
                
                <el-form-item label="AI ËØÜÂà´ÊúçÂä°ÂïÜ">
                    <el-radio-group v-model="config.provider" size="large">
                        <el-radio-button label="gemini">Google Gemini</el-radio-button>
                        <el-radio-button label="openai">OpenAI / Compatible</el-radio-button>
                    </el-radio-group>
                </el-form-item>

                <div v-if="config.provider === 'gemini'">
                    <el-form-item label="Base URL">
                        <el-input v-model="config.geminiBaseUrl" placeholder="https://generativelanguage.googleapis.com"></el-input>
                    </el-form-item>
                    <el-form-item label="API Key">
                        <el-input v-model="config.apiKey" type="password" show-password></el-input>
                    </el-form-item>
                    
                    <el-button type="primary" plain style="width: 100%; margin-bottom: 10px;" @click="fetchModels" :loading="testing">
                        üì° Ëé∑ÂèñÂèØÁî®Ê®°ÂûãÂàóË°®
                    </el-button>
                    
                    <el-form-item v-if="availableModels.length > 0">
                        <el-select v-model="config.model" placeholder="ÈÄâÊã©Ê®°Âûã" style="width: 100%">
                            <el-option v-for="m in availableModels" :key="m" :label="m" :value="m"></el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item v-else>
                         <el-input v-model="config.model" placeholder="Ê®°ÂûãÂêçÁß∞ (Â¶Ç gemini-1.5-flash)"></el-input>
                    </el-form-item>
                </div>

                <div v-if="config.provider === 'openai'">
                    <el-form-item label="Base URL">
                        <el-input v-model="config.baseUrl"></el-input>
                    </el-form-item>
                    <el-form-item label="API Key">
                        <el-input v-model="config.apiKey" type="password" show-password></el-input>
                    </el-form-item>
                    <el-form-item label="Ê®°ÂûãÂêçÁß∞">
                        <el-input v-model="config.model" placeholder="gpt-4o"></el-input>
                    </el-form-item>
                </div>
            </el-form>
            <template #footer>
                <el-button @click="showConfig = false">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="saveConfig">‰øùÂ≠ò</el-button>
            </template>
        </el-dialog>

        <!-- CSV ÂØºÂÖ•ÂØπËØùÊ°Ü -->
        <el-dialog v-model="showImportDialog" title="üì• ÂØºÂÖ• CSV" width="500px">
            <el-form label-position="top">
                <el-form-item label="ÂØºÂÖ•Ê®°Âºè">
                    <el-radio-group v-model="importMode">
                        <el-radio label="append">ËøΩÂä†Ê®°ÂºèÔºà‰øùÁïôÂéüÊúâÊï∞ÊçÆÔºâ</el-radio>
                        <el-radio label="replace">Ë¶ÜÁõñÊ®°ÂºèÔºàÊ∏ÖÁ©∫ÂéüÊúâÊï∞ÊçÆÔºâ</el-radio>
                    </el-radio-group>
                </el-form-item>
                
                <el-form-item label="ÈÄâÊã© CSV Êñá‰ª∂">
                    <el-upload
                        action="#"
                        :auto-upload="false"
                        :show-file-list="true"
                        :on-change="handleImportCSV"
                        accept=".csv"
                        :limit="1"
                    >
                        <el-button type="primary">
                            <el-icon style="margin-right:4px"><Upload /></el-icon> ÈÄâÊã©Êñá‰ª∂
                        </el-button>
                        <template #tip>
                            <div style="margin-top: 8px; font-size: 12px; color: #6b7280;">
                                ÊîØÊåÅÁöÑÂàó: name, symbol, date, total, price, shares
                            </div>
                        </template>
                    </el-upload>
                </el-form-item>
            </el-form>
            <template #footer>
                <el-button @click="showImportDialog = false">ÂÖ≥Èó≠</el-button>
            </template>
        </el-dialog>
    </div>

    <!-- Á¨¨‰∏âÊñπÂ∫ì -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/element-plus"></script>
    <script src="https://unpkg.com/@element-plus/icons-vue"></script>
    <script src="https://unpkg.com/echarts/dist/echarts.min.js"></script>

    <!-- Â∑•ÂÖ∑Ê®°Âùó -->
    <script type="module" src="/src/utils/storage.js"></script>
    <script type="module" src="/src/utils/formatter.js"></script>
    <script type="module" src="/src/utils/api.js"></script>

    <!-- Composables -->
    <script type="module" src="/src/composables/useConfig.js"></script>
    <script type="module" src="/src/composables/useRecords.js"></script>
    <script type="module" src="/src/composables/usePosition.js"></script>
    <script type="module" src="/src/composables/useChart.js"></script>
    <script type="module" src="/src/composables/useProfitCalendar.js"></script>
    <script type="module" src="/src/composables/useMarketValueChart.js"></script>

    <!-- ‰∏ªÂ∫îÁî® -->
    <script type="module" src="/src/app.js"></script>
</body>
</html>